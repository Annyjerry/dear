<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For You ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Poppins', sans-serif;
}

body {
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  color: #fff;
  background: linear-gradient(135deg,#ff9a9e,#fad0c4,#ffd1dc);
}

/* üíñ CARD */
.card {
  width: 95%;
  max-width: 420px;
  background: rgba(255,255,255,0.2);
  backdrop-filter: blur(20px);
  border-radius: 28px;
  padding: 25px;
  box-shadow: 0 25px 50px rgba(255,100,140,0.35);
  text-align: center;
}

/* BUTTON */
.btn {
  width: 100%;
  padding: 14px;
  border-radius: 30px;
  border: none;
  font-size: 1rem;
  cursor: pointer;
  margin-top: 12px;
  background: linear-gradient(135deg,#ff5f8a,#ff8fb1);
  color: #fff;
}

/* IMAGE CARD */
.image-card {
  position: relative;
  border-radius: 20px;
  overflow: hidden;
}

.image-card img {
  width: 100%;
  height: auto;
  display: block;
}

.image-text {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to bottom,
    rgba(0,0,0,0.7),
    rgba(0,0,0,0.25),
    rgba(0,0,0,0.7)
  );
  padding: 16px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.image-text h2 {
  font-size: 1.25rem;
}

.image-text p {
  font-size: 0.95rem;
  line-height: 1.6;
  white-space: pre-wrap;
  overflow-wrap: break-word;
  max-height: 65%;
  overflow: hidden;
}

/* COUNTDOWN */
.countdown {
  margin: 15px 0;
  font-size: 0.9rem;
  opacity: 0.9;
}

/* POPUP */
.popup {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  display: none;
  justify-content: center;
  align-items: center;
}

.popup-box {
  background: #fff;
  color: #333;
  padding: 25px;
  border-radius: 22px;
  text-align: center;
  max-width: 320px;
}

@media (max-width:480px){
  .image-text h2 { font-size: 1.15rem; }
  .image-text p { font-size: 0.9rem; }
}
</style>
</head>

<body>

<audio id="bgMusic" loop></audio>

<!-- üíù CONTENT -->
<div class="card" id="content">
  <div class="image-card">
    <img id="dayImage">
    <div class="image-text">
      <h2 id="dayLabel"></h2>
      <p id="dayText"></p>
    </div>
  </div>

  <div class="countdown" id="countdown"></div>
  <button class="btn" onclick="openPopup()">Miss me? üíå</button>
</div>

<!-- POPUP -->
<div class="popup" id="popup">
  <div class="popup-box">
    <p>
      I miss you more than words can measure ‚ù§Ô∏è<br><br>
      Tomorrow holds another little surprise for you.
    </p>
    <button class="btn" onclick="closePopup()">Okay ü•∞</button>
  </div>
</div>

<script>

const START_DATE = new Date(2026, 1, 13);
let musicStarted = false;

const days = [
  {
    img: "media/day4.jpeg",
    music: "media/music.mp3",
    bg: "linear-gradient(135deg,#ff8fab,#ffc2d1)",
    text:
`üíû

Thank you for the little things ‚Äî
the check-ins, the reassurance, the laughter.
They matter more than you think.`
  },
  {
    img: "media/day5.jpeg",
    music: "media/music.mp3",
    bg: "linear-gradient(135deg,#ffb3c6,#ffd6e0)",
    text:
`üíò

Loving you isn‚Äôt just for today.
It‚Äôs a daily choice ‚Äî
and I choose you.`
  },
  
];

loadDay();

function loadDay(){
  const now = new Date();
  const adjusted = new Date(now.getTime() - (now.getHours() < 6 ? 86400000 : 0));
  const diff = Math.floor((adjusted - START_DATE) / 86400000);
  const index = Math.max(0, Math.min(diff, days.length - 1));
  const d = days[index];

  document.body.style.background = d.bg;
  dayLabel.innerText = `Day ${index + 1}`;
  dayImage.src = d.img;
  typeText(d.text);

  bgMusic.src = d.music;
  bgMusic.volume = 0; // start silent

  startCountdown();
}

// üéµ Start music on first interaction
document.addEventListener("click", startMusicOnce);

function startMusicOnce(){
  if(musicStarted) return;
  musicStarted = true;

  bgMusic.play().then(() => {
    fadeInAudio(bgMusic, 0.4, 4000); // fade to 0.4 volume over 4 seconds
  }).catch(() => {});

  document.removeEventListener("click", startMusicOnce);
}

// üé∂ Smooth fade-in
function fadeInAudio(audio, targetVolume, duration){
  let stepTime = 100;
  let steps = duration / stepTime;
  let volumeStep = targetVolume / steps;

  let fade = setInterval(() => {
    if(audio.volume < targetVolume){
      audio.volume = Math.min(audio.volume + volumeStep, targetVolume);
    } else {
      clearInterval(fade);
    }
  }, stepTime);
}

function typeText(text){
  dayText.textContent = "";
  let i = 0;
  (function t(){
    if(i < text.length){
      dayText.textContent += text.charAt(i++);
      setTimeout(t, 35);
    }
  })();
}

function startCountdown(){
  const target = new Date("February 14, 2026").getTime();
  setInterval(()=>{
    const diff = target - Date.now();
    if(diff <= 0){
      countdown.innerText = "Today is Valentine‚Äôs Day ‚ù§Ô∏è";
      return;
    }
    const d = Math.floor(diff / 86400000);
    const h = Math.floor((diff / 3600000) % 24);
    const m = Math.floor((diff / 60000) % 60);
    countdown.innerText = `Valentine‚Äôs Day in ${d}d ${h}h ${m}m üíï`;
  },1000);
}

function openPopup(){ popup.style.display = "flex"; }
function closePopup(){ popup.style.display = "none"; }

</script>


</body>
</html>
